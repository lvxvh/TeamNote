# 用Spring-test+Junit做单元测试
**步骤1：**
在src文件夹中创建test文件夹，文件结构如图所示：
![](%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-07-02%20%E4%B8%8B%E5%8D%8811.03.24.png)
**步骤2：**
根据进行单元测试的对象创建对应的测试类，命名为被测试类名+Test，也可以在上图中看见
**步骤三：**
实现测试类，测试类的实现一例如下：
 ![](%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-07-02%20%E4%B8%8B%E5%8D%8811.05.42.png)
@RunWith说明测试类是由哪个类负责运行的，@ContextConfiguration指定注入的配置文件，@Autowired是spring的注入，@Test表明以下是一个测试函数，@Transactional表明以下测试函数运行结束后（不管是通过测试还是failed）数据库会回滚到测试进行之前的状态（mysql可以，mongodb需要手动删除测试数据因为mongodb不支持transaction）。另外Assert.xxx是表明程序运行到这里需要保证后面的条件成立（则通过测试），若不成立则会expection并给出错误信息
**步骤四：**
运行测试类，有两种方法：
第一种是直接在类名旁边点击那个按钮即可，如下图：
![](%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-07-02%20%E4%B8%8B%E5%8D%8811.11.15.png)
这种方法在intellij中是可以的，不知道其他IDE行不行，但是在intellij中直接这样用就可以，很方便。另外每个函数名旁边也有按钮，可以单独执行某个测试函数（有@Test的函数）
第二种是比较正规的方法，在intellij右上角点击edit configuration，
![](%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-07-02%20%E4%B8%8B%E5%8D%8811.13.53.png)
进入configuration界面，添加Junit模块，再往里面添加Junit实例，指明要运行哪个测试类即可
![](%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202017-07-02%20%E4%B8%8B%E5%8D%8811.15.53.png)

